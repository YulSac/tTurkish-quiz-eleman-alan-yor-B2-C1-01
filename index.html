<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>??veren Sorular? - Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { 
            background-color: #1a2235; /* Темно-синій фон як на скріншоті */
            color: #e2e8f0; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
        }
        .option-card { 
            background-color: #232d45; /* Світліший синій для карток */
            border: 1px solid #334155; 
        }
        .option-card:hover { 
            background-color: #2d3753; 
            border-color: #475569; 
            cursor: pointer; 
            transform: translateY(-1px);
        }
        /* Кастомний скролбар для краси */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #1a2235; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 4px; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center p-4 md:p-10 font-sans selection:bg-[#d9778c] selection:text-white">
    
    <div id="app" class="w-full max-w-4xl w-full mt-4 md:mt-10">
        <!-- Сюди динамічно рендериться контент -->
    </div>

    <script>
        // 1. Стан додатку
        let currentStep = 0;
        
        // Масив запитань (створила 2 для демонстрації переходу)
        const questions = [
            {
                section: "B?L?M 1: ??VEREN SORULARI",
                speaker: "Derya Han?m",
                text: "Bize biraz kendinizden ve tekstil sekt?r?ndeki i? tecr?benizden bahseder misiniz?",
                options: [
                    "Tekstil sekt?r?nde sekiz y?ld?r ?al???yorum; kuma? ?retimi ve tedarik zinciri y?netimi konular?nda kapsaml? mesleki deneyimim var.", // З крапкою
                    "Asl?nda tekstil sekt?r?yle ilgim yok, ama ??renmeye haz?r?m", // Без крапки
                    "Ge?en y?l bir m?lakat yapt?m ve ?ok g?zel bir deneyimdi.", // З крапкою
                    "Kariyer.net ?zerinden bu pozisyona ba?vurdum, o kadar." // З крапкою
                ]
            },
            {
                section: "B?L?M 1: ??VEREN SORULARI",
                speaker: "Derya Han?m",
                text: "Kriz anlar?nda veya yo?un bask? alt?nda ?al???rken stres y?netimi konusunda nas?ls?n?z?",
                options: [
                    "Stresli durumlarda sakinli?imi korur ve ??z?m odakl? ilerlerim.",
                    "Genelde panik yapar?m ama sonra toparlar?m",
                    "Stresli ortamlarda ?al??may? hi? sevmem ve verimim d??er.",
                    "Duruma g?re de?i?ir, bazen iyi bazen k?t? idare ederim."
                ]
            }
        ];

        // 2. Функція для перемішування масиву (Завдання 2)
        function shuffleArray(array) {
            let currentIndex = array.length, randomIndex;
            while (currentIndex !== 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
            }
            return array;
        }

        // 3. Головна функція рендеру екрану
        function render() {
            const app = document.getElementById('app');
            const q = questions[currentStep];
            const totalQuestions = 20; // Жорстко задано 20 як на скріншоті (SORU: 1/20)

            // Завдання 1: Прибираємо крапки в кінці кожного варіанта
            let processedOptions = q.options.map(opt => {
                return opt.trim().replace(/\.$/, ''); 
            });

            // Завдання 2: Рандомно перемішуємо варіанти
            processedOptions = shuffleArray([...processedOptions]);

            // Вираховуємо прогрес для смуги
            const progressPercent = ((currentStep + 1) / totalQuestions) * 100;

            // Будуємо HTML структуру
            let html = `
                <!-- Верхній колонтитул -->
                <div class="flex justify-between text-[11px] md:text-xs tracking-widest text-gray-400 mb-3 uppercase font-semibold">
                    <span>${q.section}</span>
                    <span>SORU: ${currentStep + 1}/${totalQuestions}</span>
                </div>
                
                <!-- Прогрес бар -->
                <div class="w-full h-[3px] bg-gray-700 rounded mb-10 overflow-hidden">
                    <div class="h-full bg-[#d9778c] rounded transition-all duration-500 ease-out" style="width: ${progressPercent}%;"></div>
                </div>

                <!-- Текст запитання -->
                <h2 class="text-xl md:text-2xl mb-8 leading-relaxed">
                    <span class="text-[#d9778c] font-semibold">${q.speaker}:</span>
                    <span class="font-medium text-gray-100 ml-1">${q.text}</span>
                </h2>

                <!-- Варіанти відповідей -->
                <div class="flex flex-col gap-4">
            `;

            // Рендеримо кнопки з варіантами (Завдання 4: клік = вибір і перехід)
            processedOptions.forEach((opt, index) => {
                html += `
                    <div onclick="selectOption()" class="option-card p-5 md:px-6 md:py-5 rounded-xl text-[15px] md:text-base flex items-start gap-4 transition-all duration-200 shadow-sm">
                        <span class="text-[#d9778c] font-bold mt-0.5 min-w-[20px]">${index + 1}.</span>
                        <span class="text-gray-200 leading-relaxed">${opt}</span>
                    </div>
                `;
            });

            html += `</div>`;

            // Завдання 3: Кнопка "Geri D?n" (з'являється тільки якщо це не перше запитання)
            if (currentStep > 0) {
                html += `
                    <div class="mt-10 flex justify-start">
                        <button onclick="goBack()" class="px-8 py-3 bg-transparent border border-[#d9778c] text-[#d9778c] text-sm font-semibold rounded hover:bg-[#d9778c] hover:text-white transition-all duration-300">
                            Geri D?n
                        </button>
                    </div>
                `;
            }

            // Оновлюємо DOM
            app.innerHTML = html;
        }

        // 4. Логіка вибору та авто-переходу (Завдання 4)
        function selectOption() {
            // Затримка 150мс для візуального відгуку кліку
            setTimeout(() => {
                if (currentStep < questions.length - 1) {
                    currentStep++;
                    render();
                } else {
                    // Коли запитання закінчуються
                    document.getElementById('app').innerHTML = `
                        <div class="text-center mt-32">
                            <h2 class="text-3xl text-white mb-4 font-bold">Test Tamamland?!</h2>
                            <p class="text-gray-400 mb-10">Демонстрація завершена.</p>
                            <button onclick="currentStep = 0; render();" class="px-8 py-3 bg-[#d9778c] text-white font-semibold rounded hover:bg-[#c4657a] transition-all duration-300 shadow-lg">
                                Ba?tan Ba?la (Почати знову)
                            </button>
                        </div>
                    `;
                }
            }, 150); 
        }

        // 5. Логіка повернення назад
        function goBack() {
            if (currentStep > 0) {
                currentStep--;
                render();
            }
        }

        // Запуск
        init();
        function init() {
            render();
        }
    </script>
</body>
</html>